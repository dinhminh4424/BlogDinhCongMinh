{{ define "main" }} {{ .Scratch.Set "scope" "list" }} {{/* ===== TOC setup =====
*/}} {{ $enableToc := .Params.showTableOfContents | default
(site.Params.list.showTableOfContents | default false) }} {{ $showToc := and
$enableToc (in .TableOfContents "<ul") }} {{/* ===== Hero ===== */}} {{ if
site.Params.list.showHero | default false }} {{ $heroStyle := print "hero/"
site.Params.list.heroStyle ".html" }} {{ if templates.Exists (printf
"partials/%s" $heroStyle) }} {{ partial $heroStyle . }} {{ else }} {{ partial
"hero/basic.html" . }} {{ end }} {{ end }} {{/* ===== Header ===== */}}
<header class="mb-8">
  {{/* Thêm margin-bottom */}} {{ if .Params.showBreadcrumbs | default
  (site.Params.list.showBreadcrumbs | default false) }} {{ partial
  "breadcrumbs.html" . }} {{ end }}
  <h1 class="mt-5 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
    {{ .Title }}
  </h1>
  <div
    class="mt-1 mb-2 text-base text-neutral-500 dark:text-neutral-400 print:hidden"
  >
    {{ partial "article-meta/list.html" (dict "context" . "scope" "single") }}
  </div>
</header>

{{/* ===== TOC + Content ===== */}} {{ $tocMargin := cond $showToc "mt-12"
"mt-0" }} {{ $topClass := cond (hasPrefix site.Params.header.layout "fixed")
"lg:top-[140px]" "lg:top-10" }}

<section
  class="{{ $tocMargin }} prose flex max-w-full flex-col dark:prose-invert lg:flex-row mb-10"
>
  {{/* Thêm margin-bottom */}} {{ if $showToc }}
  <div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8">
    <div class="toc ps-5 lg:sticky {{ $topClass }}">
      {{ partial "toc.html" . }}
    </div>
  </div>
  {{ end }}
  <div class="min-w-0 min-h-0 max-w-prose">{{ .Content }}</div>
</section>

{{/* ===== Article Grid (Card View) ===== */}} {{ if gt (len .Pages) 0 }} {{
$cardViewScreenWidth := .Params.cardViewScreenWidth | default
(site.Params.list.cardViewScreenWidth | default true) }} {{ if
$cardViewScreenWidth }}
<div
  class="relative w-screen max-w-[1600px] px-[30px] start-[calc(max(-50vw,-800px)+50%)] mb-12"
>
  {{/* Thêm margin-bottom */}}
  <section class="w-full grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
    {{/* Tăng gap từ 6 lên 8 */}} {{ range (.Paginate .Pages).Pages }}
    <div class="p-4">
      {{/* Thêm padding cho mỗi card */}} {{ partial "article-link/card.html" .
      }}
    </div>
    {{ end }}
  </section>
</div>
{{ else }}
<section
  class="w-full grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 mb-12"
>
  {{/* Tăng gap và thêm margin-bottom */}} {{ range (.Paginate .Pages).Pages }}
  <div class="p-4">
    {{/* Thêm padding cho mỗi card */}} {{ partial "article-link/card.html" . }}
  </div>
  {{ end }}
</section>
{{ end }} {{ else }}
<section class="mt-10 prose dark:prose-invert mb-12">
  {{/* Thêm margin-bottom */}}
  <p class="py-8 border-t">
    <em>{{ i18n "list.no_articles" | emojify }}</em>
  </p>
</section>
{{ end }} {{/* ===== Pagination ===== */}}
<div class="mt-8 mb-12">
  {{/* Thêm margin cho pagination */}} {{ partial "pagination.html" . }}
</div>
{{ end }}
