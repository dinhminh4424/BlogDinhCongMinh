<!doctype html><html lang=vi dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="vi"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Vòng Lập &#183; DinhCongMinh_1916 2242</title><meta name=title content="Vòng Lập &#183; DinhCongMinh_1916 2242"><meta name=keywords content="javascript,"><link rel=canonical href=http://localhost:1313/posts/vong-lap/><link type=text/css rel=stylesheet href=/css/main.bundle.min.a442153d918368a0d296c6519d374b2e79e985854bff6e6bf6c9cd34f170317bab5687423032ec648257da17130ff09a30105c7649f1cbee618e39007a467b61.css integrity="sha512-pEIVPZGDaKDSlsZRnTdLLnnphYVL/25r9snNNPFwMXurVodCMDLsZIJX2hcTD/CaMBBcdknxy+5hjjkAekZ7YQ=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.90867e4ceecde25580f418994053fd0749d446fd0e8f0028782793ec6434fb0945ecbfe21e6a8b2f788760c0ecc3663aacb155e42e4e73d79ebaebadecd201d2.js integrity="sha512-kIZ+TO7N4lWA9BiZQFP9B0nURv0OjwAoeCeT7GQ0+wlF7L/iHmqLL3iHYMDsw2Y6rLFV5C5Oc9eeuuut7NIB0g==" data-copy="Sao chép" data-copied="Đã sao chép"></script><script src=/lib/zoom/zoom.min.umd.b4b722fcb5d42f34f52b30a92f3521b69f403ca9d96d0d6179eb537cb870f5d83fdf1fe836688d95d5c99fefbda4170487711006e56051fa67ea00da10521721.js integrity="sha512-tLci/LXULzT1KzCpLzUhtp9APKnZbQ1heetTfLhw9dg/3x/oNmiNldXJn++9pBcEh3EQBuVgUfpn6gDaEFIXIQ=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="http://localhost:1313/posts/vong-lap/"><meta property="og:site_name" content="DinhCongMinh_1916 2242"><meta property="og:title" content="Vòng Lập"><meta property="og:description" content="Vòng lặp (Loops) — Toàn tập, cực kỳ chi tiết #Mục tiêu: chương này trình bày chi tiết mọi loại vòng lặp trong JavaScript, ví dụ thực tế, anti-patterns, so sánh, hiệu suất, các lỗi thường gặp và bài tập có lời giải. File này định dạng Markdown để dễ copy vào tài liệu hoặc website."><meta property="og:locale" content="vi"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-23T01:11:33+07:00"><meta property="article:modified_time" content="2025-09-23T01:11:33+07:00"><meta property="article:tag" content="Javascript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vòng Lập"><meta name=twitter:description content="Vòng lặp (Loops) — Toàn tập, cực kỳ chi tiết #Mục tiêu: chương này trình bày chi tiết mọi loại vòng lặp trong JavaScript, ví dụ thực tế, anti-patterns, so sánh, hiệu suất, các lỗi thường gặp và bài tập có lời giải. File này định dạng Markdown để dễ copy vào tài liệu hoặc website."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Bài Viết","name":"Vòng Lập","headline":"Vòng Lập","abstract":"\u003ch1 class=\u0022relative group\u0022\u003eVòng lặp (Loops) — Toàn tập, cực kỳ chi tiết \r\n    \u003cdiv id=\u0022vòng-lặp-loops--toàn-tập-cực-kỳ-chi-tiết\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\r\n    \r\n    \u003cspan\r\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\r\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#v%c3%b2ng-l%e1%ba%b7p-loops--to%c3%a0n-t%e1%ba%adp-c%e1%bb%b1c-k%e1%bb%b3-chi-ti%e1%ba%bft\u0022 aria-label=\u0022Cọc dấu\u0022\u003e#\u003c\/a\u003e\r\n    \u003c\/span\u003e        \r\n    \r\n\u003c\/h1\u003e\r\n\u003cp\u003e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\u003cfigure\u003e\r\n      \u003cimg\r\n    class=\u0022my-0 rounded-md\u0022\r\n    loading=\u0022lazy\u0022\r\n    decoding=\u0022async\u0022\r\n    fetchpriority=\u0022low\u0022\r\n    alt=\u0022Ảnh 1\u0022\r\n    srcset=\u0022\r\n      \/posts\/vong-lap\/images\/anhnen_loop_hu_32caed3a6b314693.png  330w,\r\n      \/posts\/vong-lap\/images\/anhnen_loop_hu_96b3d01e3899f344.png  660w,\r\n      \/posts\/vong-lap\/images\/anhnen_loop_hu_ed1483c6b6e2e8fa.png 1280w\r\n    \u0022\r\n    data-zoom-src=\u0022\/posts\/vong-lap\/images\/anhnen_loop.png\u0022\r\n    src=\u0022\/posts\/vong-lap\/images\/anhnen_loop.png\u0022\u003e\r\n\r\n  \r\n\u003c\/figure\u003e\r\n\n\u003cstrong\u003eMục tiêu:\u003c\/strong\u003e chương này trình bày chi tiết mọi loại vòng lặp trong JavaScript, ví dụ thực tế, anti-patterns, so sánh, hiệu suất, các lỗi thường gặp và bài tập có lời giải. File này định dạng Markdown để dễ copy vào tài liệu hoặc website.\u003c\/p\u003e","inLanguage":"vi","url":"http:\/\/localhost:1313\/posts\/vong-lap\/","author":{"@type":"Person","name":"Đinh Công Minh"},"copyrightYear":"2025","dateCreated":"2025-09-23T01:11:33\u002b07:00","datePublished":"2025-09-23T01:11:33\u002b07:00","dateModified":"2025-09-23T01:11:33\u002b07:00","keywords":["javascript"],"mainEntityOfPage":"true","wordCount":"2023"}]</script><meta name=author content="Đinh Công Minh"><script src=/lib/jquery/jquery.slim.min.03cb160e3cfdb2667a2e2c80d283bebcf63ff8bbc4b629c9ab2babf6fae1d0c07ad470edae783efa4fabda2ac01c58d60e63b98b3c336be8208460f08f4354f5.js integrity="sha512-A8sWDjz9smZ6LiyA0oO+vPY/+LvEtinJqyur9vrh0MB61HDtrng++k+r2irAHFjWDmO5izwza+gghGDwj0NU9Q=="></script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Chuyển đến nội dung chính</a></div><div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium">DinhCongMinh_1916 2242</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><a href=/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Trang Chủ</p></a><a href=/posts/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Bài Viết</p></a><a href=/categories/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Danh Mục</p></a><a href=/tags/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Thẻ</p></a><a href=/search/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Tìm Kiếm</p></a><a href=/profile/thong-tin class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Thông Tin</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Tìm kiếm (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Tìm kiếm (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 me-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Trang Chủ</p></a></li><li class=mt-1><a href=/posts/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Bài Viết</p></a></li><li class=mt-1><a href=/categories/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Danh Mục</p></a></li><li class=mt-1><a href=/tags/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Thẻ</p></a></li><li class=mt-1><a href=/search/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Tìm Kiếm</p></a></li><li class=mt-1><a href=/profile/thong-tin class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Thông Tin</p></a></li></ul></div></div></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Vòng Lập</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2025-09-23T01:11:33+07:00>23 tháng 9, 2025</time><span class="px-2 text-primary-500">&#183;</span><span>2023 từ</span><span class="px-2 text-primary-500">&#183;</span><span title="Thời gian đọc">10 phút</span></div></div><div class="flex author"><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Tác giả</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Đinh Công Minh</div><div class="text-sm text-neutral-700 dark:text-neutral-400">Một lập trình viên thích công nghệ và viết lách.</div><div class="text-2xl sm:text-lg"></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8"><div class="toc ps-5 print:hidden lg:sticky lg:top-10"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Mục lục</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#mục-lục>Mục lục</a></li><li><a href=#1-giới-thiệu-chung>1. Giới thiệu chung</a></li><li><a href=#2-while>2. while</a><ul><li><a href=#21-cú-pháp>2.1 Cú pháp</a></li><li><a href=#22-nguyên-lý>2.2 Nguyên lý</a></li><li><a href=#23-ví-dụ-cơ-bản>2.3 Ví dụ cơ bản</a></li><li><a href=#24-ví-dụ-thực-tế-poll-một-trạng-thái>2.4 Ví dụ thực tế: poll một trạng thái</a></li><li><a href=#55-pitfall--vòng-vô-hạn>5.5 Pitfall — vòng vô hạn</a></li><li><a href=#pattern-sentinel-loop>Pattern: sentinel loop</a></li></ul></li><li><a href=#3-dowhile>3. do&mldr;while</a><ul><li><a href=#31-cú-pháp>3.1 Cú pháp</a></li><li><a href=#32-điểm-nổi-bật>3.2 Điểm nổi bật</a></li><li><a href=#33-ví-dụ>3.3 Ví dụ</a></li></ul></li><li><a href=#4-for-cổ-điển>4. for (cổ điển)</a><ul><li><a href=#41-cú-pháp-tiêu-chuẩn>4.1 Cú pháp tiêu chuẩn</a></li><li><a href=#42-ví-dụ>4.2 Ví dụ</a></li><li><a href=#43-và-nhiều-biến-cùng-lúc>4.3 Và nhiều biến cùng lúc</a></li><li><a href=#44-hoisting--scope-var-vs-let>4.4 Hoisting / scope: var vs let</a></li><li><a href=#45-closure-trong-loop-bẫy-phổ-biến>4.5 Closure trong loop (bẫy phổ biến)</a></li><li><a href=#46-ví-dụ-vòng-lặp-lồng-nhau-matrix>4.6 Ví dụ: vòng lặp lồng nhau (matrix)</a></li></ul></li><li><a href=#5-forof>5. for&mldr;of</a><ul><li><a href=#51-cú-pháp>5.1 Cú pháp</a></li><li><a href=#52-iterable-các-đối-tượng-support>5.2 Iterable? (các đối tượng support)</a></li><li><a href=#53-ví-dụ>5.3 Ví dụ</a></li><li><a href=#54-forof-vs-foreach-vs-for-classic>5.4 for&mldr;of vs forEach vs for (classic)</a></li><li><a href=#55-destructuring-với-forof-map-entries>5.5 Destructuring với for&mldr;of (Map entries)</a></li></ul></li><li><a href=#6-forin>6. for&mldr;in</a><ul><li><a href=#61-cú-pháp>6.1 Cú pháp</a></li><li><a href=#62-dùng-để-lặp-thuộc-tính-của-object-không-dùng-cho-mảng>6.2 Dùng để lặp <strong>thuộc tính</strong> của object (không dùng cho mảng)</a></li><li><a href=#63-cảnh-báo>6.3 Cảnh báo</a></li></ul></li><li><a href=#7-các-phương-thức-lặp-của-mảng-functional>7. Các phương thức lặp của mảng (functional)</a><ul><li><a href=#71-arrforeachfn>7.1 arr.forEach(fn)</a></li><li><a href=#72-arrmapfn>7.2 arr.map(fn)</a></li><li><a href=#73-arrfilterfn>7.3 arr.filter(fn)</a></li><li><a href=#74-arrreducefn-init>7.4 arr.reduce(fn, init)</a></li><li><a href=#75-arrfind--findindex--some--every>7.5 arr.find / findIndex / some / every</a></li><li><a href=#76-flatmap-es2019>7.6 flatMap (ES2019)</a></li><li><a href=#77-lưu-ý-async--foreachmap>7.7 Lưu ý async & forEach/map</a></li></ul></li><li><a href=#8-break--continue--label>8. break / continue / label</a><ul><li><a href=#81-break>8.1 break</a></li><li><a href=#82-continue>8.2 continue</a></li><li><a href=#83-labeled-break--continue-khi-dùng-nested-loops>8.3 Labeled break / continue (khi dùng nested loops)</a></li></ul></li><li><a href=#9-vòng-lặp-lồng-nhau--tối-ưu-hóa>9. Vòng lặp lồng nhau & tối ưu hóa</a><ul><li><a href=#91-tính-phức-tạp-thời-gian>9.1 Tính phức tạp thời gian</a></li><li><a href=#92-ví-dụ--tìm-cặp-có-tổng-k-on2>9.2 Ví dụ — tìm cặp có tổng k (O(n^2))</a></li><li><a href=#93-tối-ưu-dùng-bộ-nhớ-hash-để-giảm-xuống-on>9.3 Tối ưu: dùng bộ nhớ (hash) để giảm xuống O(n)</a></li><li><a href=#94-lồng-nhiều-cấp-3-cân-nhắc-thuật-toán-khác-divide-and-conquer-sort--two-pointer-k-sum-optimized>9.4 Lồng nhiều cấp (3+): cân nhắc thuật toán khác (divide and conquer, sort & two-pointer, k-sum optimized)</a></li></ul></li><li><a href=#10-xóa--chỉnh-sửa-phần-tử-khi-lặp>10. Xóa / Chỉnh sửa phần tử khi lặp</a><ul><li><a href=#101-lặp-từ-cuối-về-đầu-splice-an-toàn>10.1 Lặp từ cuối về đầu (splice an toàn)</a></li><li><a href=#102-dùng-filter-để-tạo-mảng-mới-immutable-style>10.2 Dùng filter để tạo mảng mới (immutable style)</a></li><li><a href=#103-lưu-index-cần-xóa-rồi-xóa-sau-khi-muốn-mark-first>10.3 Lưu index cần xóa rồi xóa sau (khi muốn mark-first)</a></li><li><a href=#104-tránh-dùng-shift-trong-vòng-lặp-lớn>10.4 Tránh dùng shift() trong vòng lặp lớn</a></li></ul></li><li><a href=#11-async-trong-vòng-lặp-tuần-tự-vs-song-song>11. Async trong vòng lặp: tuần tự vs song song</a><ul><li><a href=#111-vấn-đề-thường-gặp>11.1 Vấn đề thường gặp</a></li><li><a href=#112-thực-thi-tuần-tự-order-important>11.2 Thực thi tuần tự (order important)</a></li><li><a href=#113-thực-thi-song-song-tất-cả-cùng-lúc-chờ-tất-cả>11.3 Thực thi song song (tất cả cùng lúc, chờ tất cả)</a></li><li><a href=#114throttling--giới-hạn-concurrency>11.4Throttling / giới hạn concurrency</a></li></ul></li><li><a href=#12-generators--iterators-nhắc-qua>12. Generators / Iterators (nhắc qua)</a></li><li><a href=#13-hiệu-suất--best-practices-tổng-hợp>13. Hiệu suất & best practices (tổng hợp)</a></li><li><a href=#14-debugging-vòng-lặp>14. Debugging vòng lặp</a></li><li><a href=#15-tóm-tắt-nhanh>15. Tóm tắt nhanh</a></li><li><a href=#flowcharts-minh-họa>Flowcharts (minh họa)</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Mục lục</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#mục-lục>Mục lục</a></li><li><a href=#1-giới-thiệu-chung>1. Giới thiệu chung</a></li><li><a href=#2-while>2. while</a><ul><li><a href=#21-cú-pháp>2.1 Cú pháp</a></li><li><a href=#22-nguyên-lý>2.2 Nguyên lý</a></li><li><a href=#23-ví-dụ-cơ-bản>2.3 Ví dụ cơ bản</a></li><li><a href=#24-ví-dụ-thực-tế-poll-một-trạng-thái>2.4 Ví dụ thực tế: poll một trạng thái</a></li><li><a href=#55-pitfall--vòng-vô-hạn>5.5 Pitfall — vòng vô hạn</a></li><li><a href=#pattern-sentinel-loop>Pattern: sentinel loop</a></li></ul></li><li><a href=#3-dowhile>3. do&mldr;while</a><ul><li><a href=#31-cú-pháp>3.1 Cú pháp</a></li><li><a href=#32-điểm-nổi-bật>3.2 Điểm nổi bật</a></li><li><a href=#33-ví-dụ>3.3 Ví dụ</a></li></ul></li><li><a href=#4-for-cổ-điển>4. for (cổ điển)</a><ul><li><a href=#41-cú-pháp-tiêu-chuẩn>4.1 Cú pháp tiêu chuẩn</a></li><li><a href=#42-ví-dụ>4.2 Ví dụ</a></li><li><a href=#43-và-nhiều-biến-cùng-lúc>4.3 Và nhiều biến cùng lúc</a></li><li><a href=#44-hoisting--scope-var-vs-let>4.4 Hoisting / scope: var vs let</a></li><li><a href=#45-closure-trong-loop-bẫy-phổ-biến>4.5 Closure trong loop (bẫy phổ biến)</a></li><li><a href=#46-ví-dụ-vòng-lặp-lồng-nhau-matrix>4.6 Ví dụ: vòng lặp lồng nhau (matrix)</a></li></ul></li><li><a href=#5-forof>5. for&mldr;of</a><ul><li><a href=#51-cú-pháp>5.1 Cú pháp</a></li><li><a href=#52-iterable-các-đối-tượng-support>5.2 Iterable? (các đối tượng support)</a></li><li><a href=#53-ví-dụ>5.3 Ví dụ</a></li><li><a href=#54-forof-vs-foreach-vs-for-classic>5.4 for&mldr;of vs forEach vs for (classic)</a></li><li><a href=#55-destructuring-với-forof-map-entries>5.5 Destructuring với for&mldr;of (Map entries)</a></li></ul></li><li><a href=#6-forin>6. for&mldr;in</a><ul><li><a href=#61-cú-pháp>6.1 Cú pháp</a></li><li><a href=#62-dùng-để-lặp-thuộc-tính-của-object-không-dùng-cho-mảng>6.2 Dùng để lặp <strong>thuộc tính</strong> của object (không dùng cho mảng)</a></li><li><a href=#63-cảnh-báo>6.3 Cảnh báo</a></li></ul></li><li><a href=#7-các-phương-thức-lặp-của-mảng-functional>7. Các phương thức lặp của mảng (functional)</a><ul><li><a href=#71-arrforeachfn>7.1 arr.forEach(fn)</a></li><li><a href=#72-arrmapfn>7.2 arr.map(fn)</a></li><li><a href=#73-arrfilterfn>7.3 arr.filter(fn)</a></li><li><a href=#74-arrreducefn-init>7.4 arr.reduce(fn, init)</a></li><li><a href=#75-arrfind--findindex--some--every>7.5 arr.find / findIndex / some / every</a></li><li><a href=#76-flatmap-es2019>7.6 flatMap (ES2019)</a></li><li><a href=#77-lưu-ý-async--foreachmap>7.7 Lưu ý async & forEach/map</a></li></ul></li><li><a href=#8-break--continue--label>8. break / continue / label</a><ul><li><a href=#81-break>8.1 break</a></li><li><a href=#82-continue>8.2 continue</a></li><li><a href=#83-labeled-break--continue-khi-dùng-nested-loops>8.3 Labeled break / continue (khi dùng nested loops)</a></li></ul></li><li><a href=#9-vòng-lặp-lồng-nhau--tối-ưu-hóa>9. Vòng lặp lồng nhau & tối ưu hóa</a><ul><li><a href=#91-tính-phức-tạp-thời-gian>9.1 Tính phức tạp thời gian</a></li><li><a href=#92-ví-dụ--tìm-cặp-có-tổng-k-on2>9.2 Ví dụ — tìm cặp có tổng k (O(n^2))</a></li><li><a href=#93-tối-ưu-dùng-bộ-nhớ-hash-để-giảm-xuống-on>9.3 Tối ưu: dùng bộ nhớ (hash) để giảm xuống O(n)</a></li><li><a href=#94-lồng-nhiều-cấp-3-cân-nhắc-thuật-toán-khác-divide-and-conquer-sort--two-pointer-k-sum-optimized>9.4 Lồng nhiều cấp (3+): cân nhắc thuật toán khác (divide and conquer, sort & two-pointer, k-sum optimized)</a></li></ul></li><li><a href=#10-xóa--chỉnh-sửa-phần-tử-khi-lặp>10. Xóa / Chỉnh sửa phần tử khi lặp</a><ul><li><a href=#101-lặp-từ-cuối-về-đầu-splice-an-toàn>10.1 Lặp từ cuối về đầu (splice an toàn)</a></li><li><a href=#102-dùng-filter-để-tạo-mảng-mới-immutable-style>10.2 Dùng filter để tạo mảng mới (immutable style)</a></li><li><a href=#103-lưu-index-cần-xóa-rồi-xóa-sau-khi-muốn-mark-first>10.3 Lưu index cần xóa rồi xóa sau (khi muốn mark-first)</a></li><li><a href=#104-tránh-dùng-shift-trong-vòng-lặp-lớn>10.4 Tránh dùng shift() trong vòng lặp lớn</a></li></ul></li><li><a href=#11-async-trong-vòng-lặp-tuần-tự-vs-song-song>11. Async trong vòng lặp: tuần tự vs song song</a><ul><li><a href=#111-vấn-đề-thường-gặp>11.1 Vấn đề thường gặp</a></li><li><a href=#112-thực-thi-tuần-tự-order-important>11.2 Thực thi tuần tự (order important)</a></li><li><a href=#113-thực-thi-song-song-tất-cả-cùng-lúc-chờ-tất-cả>11.3 Thực thi song song (tất cả cùng lúc, chờ tất cả)</a></li><li><a href=#114throttling--giới-hạn-concurrency>11.4Throttling / giới hạn concurrency</a></li></ul></li><li><a href=#12-generators--iterators-nhắc-qua>12. Generators / Iterators (nhắc qua)</a></li><li><a href=#13-hiệu-suất--best-practices-tổng-hợp>13. Hiệu suất & best practices (tổng hợp)</a></li><li><a href=#14-debugging-vòng-lặp>14. Debugging vòng lặp</a></li><li><a href=#15-tóm-tắt-nhanh>15. Tóm tắt nhanh</a></li><li><a href=#flowcharts-minh-họa>Flowcharts (minh họa)</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-6xl mb-20"><h1 class="relative group">Vòng lặp (Loops) — Toàn tập, cực kỳ chi tiết<div id=vòng-lặp-loops--toàn-tập-cực-kỳ-chi-tiết class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#v%c3%b2ng-l%e1%ba%b7p-loops--to%c3%a0n-t%e1%ba%adp-c%e1%bb%b1c-k%e1%bb%b3-chi-ti%e1%ba%bft aria-label="Cọc dấu">#</a></span></h1><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="Ảnh 1" srcset="/posts/vong-lap/images/anhnen_loop_hu_32caed3a6b314693.png 330w,
/posts/vong-lap/images/anhnen_loop_hu_96b3d01e3899f344.png 660w,
/posts/vong-lap/images/anhnen_loop_hu_ed1483c6b6e2e8fa.png 1280w" data-zoom-src=/posts/vong-lap/images/anhnen_loop.png src=/posts/vong-lap/images/anhnen_loop.png></figure><strong>Mục tiêu:</strong> chương này trình bày chi tiết mọi loại vòng lặp trong JavaScript, ví dụ thực tế, anti-patterns, so sánh, hiệu suất, các lỗi thường gặp và bài tập có lời giải. File này định dạng Markdown để dễ copy vào tài liệu hoặc website.</p><hr><h2 class="relative group">Mục lục<div id=mục-lục class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#m%e1%bb%a5c-l%e1%bb%a5c aria-label="Cọc dấu">#</a></span></h2><ol><li><a href=#1-gi%e1%bb%9bi-thi%e1%bb%87u-chung>Giới thiệu chung</a></li><li><a href=#2-while>while</a></li><li><a href=#3-do--while>do&mldr;while</a></li><li><a href=#4-for-c%e1%bb%95-%c4%91i%e1%bb%83n>for (cổ điển)</a></li><li><a href=#5-forof>for&mldr;of</a></li><li><a href=#6-forin>for&mldr;in</a></li><li><a href=#7-c%c3%a1c-ph%c6%b0%c6%a1ng-th%e1%bb%a9c-l%e1%ba%b7p-c%e1%bb%a7a-m%e1%ba%a3ng-functional>Các phương thức lặp của mảng (functional)</a></li><li><a href=#8-break--continue--label>break / continue / label</a></li><li><a href=#9-v%c3%b2ng-l%e1%ba%b7p-l%e1%bb%93ng-nhau--t%e1%bb%91i-%c6%b0u-h%c3%b3a>Vòng lặp lồng nhau & tối ưu hóa</a></li><li><a href=#10-x%c3%b3ach%e1%bb%89nh-s%e1%bb%ada-ph%e1%ba%a7n-t%e1%bb%ad-khi-l%e1%ba%b7p>Xóa/Chỉnh sửa phần tử khi lặp</a></li><li><a href=#11-async-trong-v%c3%b2ng-l%e1%ba%b7p-tu%e1%ba%a7n-t%e1%bb%b1-vs-song-song>Async trong vòng lặp: tuần tự vs song song</a></li><li><a href=#12-generators--iterators-nh%e1%ba%afc-qua>Generators / Iterators (nhắc qua)</a></li><li><a href=#13-hi%e1%bb%87u-su%e1%ba%a5t--best-practices>Hiệu suất & best practices</a></li><li><a href=#14-debugging-v%c3%b2ng-l%e1%ba%b7p>Debugging vòng lặp</a></li><li><a href=#15-t%c3%b3m-t%e1%ba%aft-nhanh>Tóm tắt nhanh</a></li></ol><hr><h2 class="relative group">1. Giới thiệu chung<div id=1-giới-thiệu-chung class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#1-gi%e1%bb%9bi-thi%e1%bb%87u-chung aria-label="Cọc dấu">#</a></span></h2><p>Vòng lặp (loop) là cấu trúc cho phép thực thi một khối mã nhiều lần. Vòng lặp khác nhau ở:</p><ul><li><strong>khi nào kiểm tra điều kiện</strong> (đầu/ cuối)</li><li><strong>đối tượng để lặp</strong> (số lần, mảng, object, iterable)</li><li><strong>khả năng thoát sớm</strong> (break), bỏ qua (continue)</li><li><strong>tương tác với async/await</strong></li></ul><p>Trong JavaScript phổ biến: <code>while</code>, <code>do...while</code>, <code>for</code>, <code>for...of</code>, <code>for...in</code>, và các phương thức mảng (<code>forEach</code>, <code>map</code>, <code>filter</code>, <code>reduce</code>, &mldr;).</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="Ảnh 2" srcset="/posts/vong-lap/images/i_for_hu_94eb690c5f955e7d.png 330w,
/posts/vong-lap/images/i_for_hu_a08ecba1e3ecdd96.png 660w,
/posts/vong-lap/images/i_for_hu_e65f943df97f2a1.png 1280w" data-zoom-src=/posts/vong-lap/images/i_for.png src=/posts/vong-lap/images/i_for.png></figure></p><h2 class="relative group">2. while<div id=2-while class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#2-while aria-label="Cọc dấu">#</a></span></h2><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="Ảnh 3" srcset="/posts/vong-lap/images/vonglapwhile_hu_ad106d40a106b12a.png 330w,
/posts/vong-lap/images/vonglapwhile_hu_a8bc141fc5ebe7fa.png 660w,
/posts/vong-lap/images/vonglapwhile_hu_85fda9fc7dbf522.png 1280w" data-zoom-src=/posts/vong-lap/images/vonglapwhile.png src=/posts/vong-lap/images/vonglapwhile.png></figure></p><h3 class="relative group">2.1 Cú pháp<div id=21-cú-pháp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#21-c%c3%ba-ph%c3%a1p aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>condition</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 class="relative group">2.2 Nguyên lý<div id=22-nguyên-lý class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#22-nguy%c3%aan-l%c3%bd aria-label="Cọc dấu">#</a></span></h3><ul><li>Kiểm tra <code>condition</code> trước mỗi lần lặp.</li><li>Nếu <code>true</code> → chạy body → quay lại kiểm tra.</li><li>Nếu <code>false</code> → không chạy body lần nào (nếu ban đầu false).</li></ul><h3 class="relative group">2.3 Ví dụ cơ bản<div id=23-ví-dụ-cơ-bản class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#23-v%c3%ad-d%e1%bb%a5-c%c6%a1-b%e1%ba%a3n aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">2.4 Ví dụ thực tế: poll một trạng thái<div id=24-ví-dụ-thực-tế-poll-một-trạng-thái class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#24-v%c3%ad-d%e1%bb%a5-th%e1%bb%b1c-t%e1%ba%bf-poll-m%e1%bb%99t-tr%e1%ba%a1ng-th%c3%a1i aria-label="Cọc dấu">#</a></span></h3><p>Giả sử ta muốn chờ giá trị <code>ready</code> trở thành <code>true</code> (ví dụ demo; thực tế dùng event thay vì poll):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>waitForReady</span>(<span style=color:#a6e22e>checkFn</span>, <span style=color:#a6e22e>interval</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>timeout</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5000</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> Date.<span style=color:#a6e22e>now</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (Date.<span style=color:#a6e22e>now</span>() <span style=color:#f92672>-</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>timeout</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ok</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>checkFn</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ok</span>) <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>new</span> Promise((<span style=color:#a6e22e>r</span>) =&gt; <span style=color:#a6e22e>setTimeout</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>interval</span>));
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">5.5 Pitfall — vòng vô hạn<div id=55-pitfall--vòng-vô-hạn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#55-pitfall--v%c3%b2ng-v%c3%b4-h%e1%ba%a1n aria-label="Cọc dấu">#</a></span></h3><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="Ảnh 4" srcset="/posts/vong-lap/images/vohan_hu_9af685bb8fc8a74a.png 330w,
/posts/vong-lap/images/vohan_hu_adb54fcde2effb99.png 660w,
/posts/vong-lap/images/vohan_hu_ac0e17254e4e16d5.png 1280w" data-zoom-src=/posts/vong-lap/images/vohan.png src=/posts/vong-lap/images/vohan.png></figure></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// missing i++ =&gt; infinite loop
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p><strong>Cách debug:</strong> thêm <code>console.log</code>, breakpoint; đảm bảo biến thay đổi. Tránh <code>while(true)</code> không có break trừ khi cần thiết (server loops).</p><h3 class="relative group">Pattern: sentinel loop<div id=pattern-sentinel-loop class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#pattern-sentinel-loop aria-label="Cọc dấu">#</a></span></h3><p>Khi đầu vào kết thúc bởi &ldquo;sentinel&rdquo; (ví dụ: nhập -1 để dừng):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> ((<span style=color:#a6e22e>n</span> <span style=color:#f92672>=</span> Number(<span style=color:#a6e22e>prompt</span>(<span style=color:#e6db74>&#34;Nhập số (-1 để kết thúc)&#34;</span>))) <span style=color:#f92672>!==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Bạn nhập&#34;</span>, <span style=color:#a6e22e>n</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 class="relative group">3. do&mldr;while<div id=3-dowhile class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#3-dowhile aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">3.1 Cú pháp<div id=31-cú-pháp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#31-c%c3%ba-ph%c3%a1p aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>} <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>condition</span>);
</span></span></code></pre></div><h3 class="relative group">3.2 Điểm nổi bật<div id=32-điểm-nổi-bật class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#32-%c4%91i%e1%bb%83m-n%e1%bb%95i-b%e1%ba%adt aria-label="Cọc dấu">#</a></span></h3><ul><li>Body chạy <strong>ít nhất 1 lần</strong>, sau đó mới kiểm tra <code>condition</code>.</li><li>Dùng cho menu hoặc nhập dữ liệu cần chạy trước, kiểm tra sau.</li></ul><h3 class="relative group">3.3 Ví dụ<div id=33-ví-dụ class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#33-v%c3%ad-d%e1%bb%a5 aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>answer</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>answer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>prompt</span>(<span style=color:#e6db74>&#34;Tiếp tục? (yes/no)&#34;</span>);
</span></span><span style=display:flex><span>} <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>answer</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#34;no&#34;</span>);
</span></span></code></pre></div><hr><h2 class="relative group">4. for (cổ điển)<div id=4-for-cổ-điển class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#4-for-c%e1%bb%95-%c4%91i%e1%bb%83n aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">4.1 Cú pháp tiêu chuẩn<div id=41-cú-pháp-tiêu-chuẩn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#41-c%c3%ba-ph%c3%a1p-ti%c3%aau-chu%e1%ba%a9n aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>initialization</span>; <span style=color:#a6e22e>condition</span>; <span style=color:#a6e22e>finalExpression</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// body
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><ul><li><code>initialization</code> chạy một lần.</li><li><code>condition</code> kiểm tra trước mỗi lần lặp.</li><li><code>finalExpression</code> chạy sau mỗi body (thường tăng biến đếm).</li></ul><h3 class="relative group">4.2 Ví dụ<div id=42-ví-dụ class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#42-v%c3%ad-d%e1%bb%a5 aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span></code></pre></div><h3 class="relative group">4.3 Và nhiều biến cùng lúc<div id=43-và-nhiều-biến-cùng-lúc class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#43-v%c3%a0-nhi%e1%bb%81u-bi%e1%ba%bfn-c%c3%b9ng-l%c3%bac aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>len</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>len</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) { ... }
</span></span></code></pre></div><h3 class="relative group">4.4 Hoisting / scope: var vs let<div id=44-hoisting--scope-var-vs-let class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#44-hoisting--scope-var-vs-let aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {}
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>); <span style=color:#75715e>// 3 (var là function-scoped)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {}
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>j</span>); <span style=color:#75715e>// undefined (j không tồn tại ngoài block)
</span></span></span></code></pre></div><p><strong>Lời khuyên:</strong> luôn dùng <code>let</code>/<code>const</code> trong vòng lặp.</p><h3 class="relative group">4.5 Closure trong loop (bẫy phổ biến)<div id=45-closure-trong-loop-bẫy-phổ-biến class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#45-closure-trong-loop-b%e1%ba%aby-ph%e1%bb%95-bi%e1%ba%bfn aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setTimeout</span>(() =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>), <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// prints 3,3,3 (because var i shared)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Fix 1: dùng let
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setTimeout</span>(() =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>), <span style=color:#ae81ff>100</span>); <span style=color:#75715e>// 0,1,2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Fix 2: IIFE
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>i</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>setTimeout</span>(() =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>), <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  })(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">4.6 Ví dụ: vòng lặp lồng nhau (matrix)<div id=46-ví-dụ-vòng-lặp-lồng-nhau-matrix class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#46-v%c3%ad-d%e1%bb%a5-v%c3%b2ng-l%e1%ba%b7p-l%e1%bb%93ng-nhau-matrix aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mat</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>  [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>  [<span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>],
</span></span><span style=display:flex><span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>mat</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>mat</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>mat</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 class="relative group">5. for&mldr;of<div id=5-forof class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#5-forof aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">5.1 Cú pháp<div id=51-cú-pháp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#51-c%c3%ba-ph%c3%a1p aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>val</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>iterable</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// val is each value
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 class="relative group">5.2 Iterable? (các đối tượng support)<div id=52-iterable-các-đối-tượng-support class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#52-iterable-c%c3%a1c-%c4%91%e1%bb%91i-t%c6%b0%e1%bb%a3ng-support aria-label="Cọc dấu">#</a></span></h3><ul><li>Array, String, Map, Set, NodeList, arguments, các object có Symbol.iterator</li></ul><h3 class="relative group">5.3 Ví dụ<div id=53-ví-dụ class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#53-v%c3%ad-d%e1%bb%a5 aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ch</span> <span style=color:#66d9ef>of</span> <span style=color:#e6db74>&#34;abc&#34;</span>) <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>ch</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// a b c
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]);
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>s</span>) <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>v</span>);
</span></span></code></pre></div><h3 class="relative group">5.4 for&mldr;of vs forEach vs for (classic)<div id=54-forof-vs-foreach-vs-for-classic class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#54-forof-vs-foreach-vs-for-classic aria-label="Cọc dấu">#</a></span></h3><ul><li><code>for...of</code> hỗ trợ <code>break</code>, <code>continue</code> và <code>await</code> (tuần tự) — rất phù hợp để gọi async tuần tự.</li><li><code>forEach</code> <strong>không</strong> dừng bằng <code>break</code> (không hỗ trợ await tuần tự).</li><li><code>for</code> cổ điển phù hợp khi cần index hoặc nâng cấp hiệu năng vi mô.</li></ul><h3 class="relative group">5.5 Destructuring với for&mldr;of (Map entries)<div id=55-destructuring-với-forof-map-entries class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#55-destructuring-v%e1%bb%9bi-forof-map-entries aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>m</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Map</span>([
</span></span><span style=display:flex><span>  [<span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>  [<span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>]);
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span>] <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>m</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>v</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><h2 class="relative group">6. for&mldr;in<div id=6-forin class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#6-forin aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">6.1 Cú pháp<div id=61-cú-pháp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#61-c%c3%ba-ph%c3%a1p aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>object</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// key is property name (string)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 class="relative group">6.2 Dùng để lặp <strong>thuộc tính</strong> của object (không dùng cho mảng)<div id=62-dùng-để-lặp-thuộc-tính-của-object-không-dùng-cho-mảng class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#62-d%c3%b9ng-%c4%91%e1%bb%83-l%e1%ba%b7p-thu%e1%bb%99c-t%c3%adnh-c%e1%bb%a7a-object-kh%c3%b4ng-d%c3%b9ng-cho-m%e1%ba%a3ng aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> { <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Alice&#34;</span>, <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>30</span> };
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>hasOwnProperty</span>(<span style=color:#a6e22e>k</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>k</span>, <span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>k</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">6.3 Cảnh báo<div id=63-cảnh-báo class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#63-c%e1%ba%a3nh-b%c3%a1o aria-label="Cọc dấu">#</a></span></h3><ul><li><code>for...in</code> lặp cả thuộc tính trên prototype chain. Dùng kèm <code>hasOwnProperty</code> nếu cần.</li><li>Thứ tự không được đảm bảo (với object). Với mảng, dùng <code>for</code> hoặc <code>for...of</code>.</li></ul><hr><h2 class="relative group">7. Các phương thức lặp của mảng (functional)<div id=7-các-phương-thức-lặp-của-mảng-functional class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#7-c%c3%a1c-ph%c6%b0%c6%a1ng-th%e1%bb%a9c-l%e1%ba%b7p-c%e1%bb%a7a-m%e1%ba%a3ng-functional aria-label="Cọc dấu">#</a></span></h2><p>Các phương thức này không phải là &lsquo;vòng lặp&rsquo; cú pháp, nhưng thực hiện lặp nội bộ.</p><h3 class="relative group">7.1 arr.forEach(fn)<div id=71-arrforeachfn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#71-arrforeachfn aria-label="Cọc dấu">#</a></span></h3><ul><li>Chạy <code>fn(value, index, array)</code> cho từng phần tử.</li><li>Trả về <code>undefined</code> (không chain được result).</li><li>Không hỗ trợ <code>break</code> / <code>continue</code>. Có thể <code>return</code> ra khỏi callback nhưng không thoát vòng lặp ngoài.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>[<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>i</span>) =&gt; <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>v</span>));
</span></span></code></pre></div><h3 class="relative group">7.2 arr.map(fn)<div id=72-arrmapfn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#72-arrmapfn aria-label="Cọc dấu">#</a></span></h3><ul><li>Trả về mảng mới: <code>result[i] = fn(array[i])</code>.</li><li>Dùng khi cần chuyển đổi mảng.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>doubled</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>x</span>) =&gt; <span style=color:#a6e22e>x</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>); <span style=color:#75715e>// [2,4,6]
</span></span></span></code></pre></div><h3 class="relative group">7.3 arr.filter(fn)<div id=73-arrfilterfn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#73-arrfilterfn aria-label="Cọc dấu">#</a></span></h3><ul><li>Trả về mảng gồm phần tử thỏa điều kiện <code>fn</code> (true).</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>evens</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>x</span>) =&gt; <span style=color:#a6e22e>x</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// [2,4]
</span></span></span></code></pre></div><h3 class="relative group">7.4 arr.reduce(fn, init)<div id=74-arrreducefn-init class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#74-arrreducefn-init aria-label="Cọc dấu">#</a></span></h3><ul><li>Dùng để gộp mảng thành 1 giá trị (accumulator).</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>sum</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>acc</span>, <span style=color:#a6e22e>v</span>) =&gt; <span style=color:#a6e22e>acc</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>v</span>, <span style=color:#ae81ff>0</span>);
</span></span></code></pre></div><h3 class="relative group">7.5 arr.find / findIndex / some / every<div id=75-arrfind--findindex--some--every class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#75-arrfind--findindex--some--every aria-label="Cọc dấu">#</a></span></h3><ul><li><code>find</code> trả về phần tử đầu tiên thỏa điều kiện.</li><li><code>findIndex</code> trả về index của phần tử đầu tiên thỏa điều kiện.</li><li><code>some</code> trả về <code>true</code> nếu <em>bất kỳ</em> phần tử thỏa điều kiện.</li><li><code>every</code> trả về <code>true</code> nếu <em>tất cả</em> phần tử thỏa điều kiện.</li></ul><h3 class="relative group">7.6 flatMap (ES2019)<div id=76-flatmap-es2019 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#76-flatmap-es2019 aria-label="Cọc dấu">#</a></span></h3><ul><li>Map từng phần tử và &ldquo;phẳng hóa&rdquo; kết quả 1 mức.</li></ul><h3 class="relative group">7.7 Lưu ý async & forEach/map<div id=77-lưu-ý-async--foreachmap class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#77-l%c6%b0u-%c3%bd-async--foreachmap aria-label="Cọc dấu">#</a></span></h3><ul><li><code>arr.forEach(async x => { await ... })</code> sẽ không tuần tự (outer function won&rsquo;t await the inner promises). Dùng <code>for...of</code> + <code>await</code> nếu cần tuần tự.</li></ul><hr><h2 class="relative group">8. break / continue / label<div id=8-break--continue--label class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#8-break--continue--label aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">8.1 break<div id=81-break class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#81-break aria-label="Cọc dấu">#</a></span></h3><ul><li>Thoát hoàn toàn vòng lặp hiện tại.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>4</span>) <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">8.2 continue<div id=82-continue class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#82-continue aria-label="Cọc dấu">#</a></span></h3><ul><li>Bỏ phần còn lại trong lần lặp, chuyển sang lần tiếp theo.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">8.3 Labeled break / continue (khi dùng nested loops)<div id=83-labeled-break--continue-khi-dùng-nested-loops class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#83-labeled-break--continue-khi-d%c3%b9ng-nested-loops aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>outer</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>break</span> <span style=color:#a6e22e>outer</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><strong>Cẩn trọng</strong>: labelled break/continue làm code khó đọc; chỉ dùng khi thực sự cần.</p><hr><h2 class="relative group">9. Vòng lặp lồng nhau & tối ưu hóa<div id=9-vòng-lặp-lồng-nhau--tối-ưu-hóa class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#9-v%c3%b2ng-l%e1%ba%b7p-l%e1%bb%93ng-nhau--t%e1%bb%91i-%c6%b0u-h%c3%b3a aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">9.1 Tính phức tạp thời gian<div id=91-tính-phức-tạp-thời-gian class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#91-t%c3%adnh-ph%e1%bb%a9c-t%e1%ba%a1p-th%e1%bb%9di-gian aria-label="Cọc dấu">#</a></span></h3><ul><li>Nested loops thường O(n*m) hoặc O(n^2) nếu hai chiều tương tự.</li><li>Ví dụ: loop lồng nhau kiểm tra cặp phần tử → O(n^2).</li></ul><h3 class="relative group">9.2 Ví dụ — tìm cặp có tổng k (O(n^2))<div id=92-ví-dụ--tìm-cặp-có-tổng-k-on2 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#92-v%c3%ad-d%e1%bb%a5--t%c3%acm-c%e1%ba%b7p-c%c3%b3-t%e1%bb%95ng-k-on2 aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>+</span> <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>j</span>] <span style=color:#f92672>===</span> <span style=color:#a6e22e>k</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Found&#34;</span>, <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>j</span>]);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">9.3 Tối ưu: dùng bộ nhớ (hash) để giảm xuống O(n)<div id=93-tối-ưu-dùng-bộ-nhớ-hash-để-giảm-xuống-on class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#93-t%e1%bb%91i-%c6%b0u-d%c3%b9ng-b%e1%bb%99-nh%e1%bb%9b-hash-%c4%91%e1%bb%83-gi%e1%ba%a3m-xu%e1%bb%91ng-on aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>seen</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>arr</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>need</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>v</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>seen</span>.<span style=color:#a6e22e>has</span>(<span style=color:#a6e22e>need</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Found&#34;</span>, <span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>need</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>seen</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>v</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">9.4 Lồng nhiều cấp (3+): cân nhắc thuật toán khác (divide and conquer, sort & two-pointer, k-sum optimized)<div id=94-lồng-nhiều-cấp-3-cân-nhắc-thuật-toán-khác-divide-and-conquer-sort--two-pointer-k-sum-optimized class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#94-l%e1%bb%93ng-nhi%e1%bb%81u-c%e1%ba%a5p-3-c%c3%a2n-nh%e1%ba%afc-thu%e1%ba%adt-to%c3%a1n-kh%c3%a1c-divide-and-conquer-sort--two-pointer-k-sum-optimized aria-label="Cọc dấu">#</a></span></h3><hr><h2 class="relative group">10. Xóa / Chỉnh sửa phần tử khi lặp<div id=10-xóa--chỉnh-sửa-phần-tử-khi-lặp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#10-x%c3%b3a--ch%e1%bb%89nh-s%e1%bb%ada-ph%e1%ba%a7n-t%e1%bb%ad-khi-l%e1%ba%b7p aria-label="Cọc dấu">#</a></span></h2><p>Các cách phổ biến và an toàn:</p><h3 class="relative group">10.1 Lặp từ cuối về đầu (splice an toàn)<div id=101-lặp-từ-cuối-về-đầu-splice-an-toàn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#101-l%e1%ba%b7p-t%e1%bb%ab-cu%e1%bb%91i-v%e1%bb%81-%c4%91%e1%ba%a7u-splice-an-to%c3%a0n aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>threshold</span>) <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">10.2 Dùng filter để tạo mảng mới (immutable style)<div id=102-dùng-filter-để-tạo-mảng-mới-immutable-style class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#102-d%c3%b9ng-filter-%c4%91%e1%bb%83-t%e1%ba%a1o-m%e1%ba%a3ng-m%e1%bb%9bi-immutable-style aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>x</span>) =&gt; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>threshold</span>);
</span></span></code></pre></div><h3 class="relative group">10.3 Lưu index cần xóa rồi xóa sau (khi muốn mark-first)<div id=103-lưu-index-cần-xóa-rồi-xóa-sau-khi-muốn-mark-first class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#103-l%c6%b0u-index-c%e1%ba%a7n-x%c3%b3a-r%e1%bb%93i-x%c3%b3a-sau-khi-mu%e1%bb%91n-mark-first aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>toRemove</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>shouldRemove</span>(<span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>])) <span style=color:#a6e22e>toRemove</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>idx</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>toRemove</span>.<span style=color:#a6e22e>reverse</span>()) <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>idx</span>, <span style=color:#ae81ff>1</span>);
</span></span></code></pre></div><h3 class="relative group">10.4 Tránh dùng shift() trong vòng lặp lớn<div id=104-tránh-dùng-shift-trong-vòng-lặp-lớn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#104-tr%c3%a1nh-d%c3%b9ng-shift-trong-v%c3%b2ng-l%e1%ba%b7p-l%e1%bb%9bn aria-label="Cọc dấu">#</a></span></h3><p><code>shift()</code> di chuyển toàn bộ mảng (O(n)), gây chậm nếu lặp nhiều lần.</p><hr><h2 class="relative group">11. Async trong vòng lặp: tuần tự vs song song<div id=11-async-trong-vòng-lặp-tuần-tự-vs-song-song class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#11-async-trong-v%c3%b2ng-l%e1%ba%b7p-tu%e1%ba%a7n-t%e1%bb%b1-vs-song-song aria-label="Cọc dấu">#</a></span></h2><h3 class="relative group">11.1 Vấn đề thường gặp<div id=111-vấn-đề-thường-gặp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#111-v%e1%ba%a5n-%c4%91%e1%bb%81-th%c6%b0%e1%bb%9dng-g%e1%ba%b7p aria-label="Cọc dấu">#</a></span></h3><ul><li>Dùng <code>forEach</code> với <code>async</code> không chờ await tuần tự.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>urls</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>url</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>); <span style=color:#75715e>// won&#39;t await in outer scope
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>});
</span></span><span style=display:flex><span><span style=color:#75715e>// not awaited
</span></span></span></code></pre></div><h3 class="relative group">11.2 Thực thi tuần tự (order important)<div id=112-thực-thi-tuần-tự-order-important class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#112-th%e1%bb%b1c-thi-tu%e1%ba%a7n-t%e1%bb%b1-order-important aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>url</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>urls</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>await</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>text</span>());
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 class="relative group">11.3 Thực thi song song (tất cả cùng lúc, chờ tất cả)<div id=113-thực-thi-song-song-tất-cả-cùng-lúc-chờ-tất-cả class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#113-th%e1%bb%b1c-thi-song-song-t%e1%ba%a5t-c%e1%ba%a3-c%c3%b9ng-l%c3%bac-ch%e1%bb%9d-t%e1%ba%a5t-c%e1%ba%a3 aria-label="Cọc dấu">#</a></span></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>promises</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>urls</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>url</span>) =&gt; <span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> Promise.<span style=color:#a6e22e>all</span>(<span style=color:#a6e22e>promises</span>);
</span></span></code></pre></div><h3 class="relative group">11.4Throttling / giới hạn concurrency<div id=114throttling--giới-hạn-concurrency class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#114throttling--gi%e1%bb%9bi-h%e1%ba%a1n-concurrency aria-label="Cọc dấu">#</a></span></h3><p>Dùng p-limit hoặc queue custom:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// simple concurrency limit example
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>limitedFetch</span>(<span style=color:#a6e22e>urls</span>, <span style=color:#a6e22e>limit</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>results</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>executing</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>url</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>urls</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fetch</span>(<span style=color:#a6e22e>url</span>)
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>r</span>) =&gt; <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>text</span>())
</span></span><span style=display:flex><span>      .<span style=color:#a6e22e>then</span>((<span style=color:#a6e22e>t</span>) =&gt; <span style=color:#a6e22e>results</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>t</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>executing</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>p</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>executing</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>limit</span>) <span style=color:#66d9ef>await</span> Promise.<span style=color:#a6e22e>race</span>(<span style=color:#a6e22e>executing</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// remove finished promises
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>executing</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>executing</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>resolved</span>) <span style=color:#a6e22e>executing</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> Promise.<span style=color:#a6e22e>all</span>(<span style=color:#a6e22e>executing</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>results</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>(Ở production, dùng thư viện như p-limit, bottleneck, hoặc implement queue rõ ràng.)</p><hr><h2 class="relative group">12. Generators / Iterators (nhắc qua)<div id=12-generators--iterators-nhắc-qua class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#12-generators--iterators-nh%e1%ba%afc-qua aria-label="Cọc dấu">#</a></span></h2><p>Generators (function*) tạo iterator, cung cấp cách lazy iterate, hữu ích khi data lớn hoặc stream-like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span><span style=color:#f92672>*</span> <span style=color:#a6e22e>idGen</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>while</span> (<span style=color:#66d9ef>true</span>) <span style=color:#66d9ef>yield</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>idGen</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>g</span>.<span style=color:#a6e22e>next</span>().<span style=color:#a6e22e>value</span>); <span style=color:#75715e>// 1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>g</span>.<span style=color:#a6e22e>next</span>().<span style=color:#a6e22e>value</span>); <span style=color:#75715e>// 2
</span></span></span></code></pre></div><hr><h2 class="relative group">13. Hiệu suất & best practices (tổng hợp)<div id=13-hiệu-suất--best-practices-tổng-hợp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#13-hi%e1%bb%87u-su%e1%ba%a5t--best-practices-t%e1%bb%95ng-h%e1%bb%a3p aria-label="Cọc dấu">#</a></span></h2><ul><li><strong>Prefer clarity</strong> over micro-optimizations. Modern JS engines rất giỏi tối ưu.</li><li>Nếu loop lớn (vài triệu iter), cân nhắc:<ul><li>Giảm work trong loop (cache properties, avoid function calls inside tight loops).</li><li>Avoid DOM ops inside loop: build fragment then append once.</li><li>Use typed arrays for numeric heavy loops.</li><li>Use Web Worker cho CPU-bound tasks.</li></ul></li><li><strong>Cache length</strong> (ít cần thiết hiện nay):<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>len</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>len</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) { ... }
</span></span></code></pre></div></li><li><strong>Avoid creating functions inside tight loops</strong> (allocation).</li><li><strong>Use appropriate data structures</strong>: Set/Map cho lookup O(1).</li><li>Batch operations where possible to reduce overhead.</li></ul><hr><h2 class="relative group">14. Debugging vòng lặp<div id=14-debugging-vòng-lặp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#14-debugging-v%c3%b2ng-l%e1%ba%b7p aria-label="Cọc dấu">#</a></span></h2><ul><li><code>console.time('loop')</code> / <code>console.timeEnd('loop')</code> để đo.</li><li>Step-debugging với breakpoints.</li><li>Nếu infinite loop: thêm guard <code>if (++safety > 1e7) throw new Error('infinite?');</code> (debug only).</li></ul><h2 class="relative group">15. Tóm tắt nhanh<div id=15-tóm-tắt-nhanh class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#15-t%c3%b3m-t%e1%ba%aft-nhanh aria-label="Cọc dấu">#</a></span></h2><ul><li><code>while</code>: check-first.</li><li><code>do...while</code>: run-first then check.</li><li><code>for</code>: index-based scenarios.</li><li><code>for...of</code>: iterate values of iterable, supports await and break.</li><li><code>for...in</code>: iterate keys of object (use with hasOwnProperty).</li><li><code>forEach</code>/<code>map</code>/<code>filter</code>/<code>reduce</code>: functional, idiomatic.</li><li>Delete elements: loop backwards or filter.</li><li>Async: <code>for...of</code> + await (sequential), <code>Promise.all</code> (parallel).</li></ul><h2 class="relative group">Flowcharts (minh họa)<div id=flowcharts-minh-họa class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#flowcharts-minh-h%e1%bb%8da aria-label="Cọc dấu">#</a></span></h2></div><section class=mt-12><h2 class="text-2xl font-bold mb-6">Bài viết liên quan</h2><div class="relative overflow-x-auto"><div class="flex gap-4"><a href=/posts/cau-lenh-dieu-kien/ class="min-w-[220px] group rounded-xl border border-neutral-200 dark:border-neutral-700 overflow-hidden shadow hover:shadow-lg transition"><div class="h-40 bg-cover bg-center" style=background-image:url(/posts/cau-lenh-dieu-kien/images/anh-nen_caulenhcodieukien.jpg);background-size:cover;background-position:50%></div><div class=p-3><h4 class="text-base font-semibold group-hover:text-blue-500 transition text-center">Câu Lệnh Điều Kiện</h4></div></a><a href=/posts/toan-tu/ class="min-w-[220px] group rounded-xl border border-neutral-200 dark:border-neutral-700 overflow-hidden shadow hover:shadow-lg transition"><div class="h-40 bg-cover bg-center" style=background-image:url(/posts/toan-tu/images/anh-nen_toantu.jpg);background-size:cover;background-position:50%></div><div class=p-3><h4 class="text-base font-semibold group-hover:text-blue-500 transition text-center">Toán tử và so sánh chuỗi</h4></div></a><a href=/posts/gioi-thieu-ve-javascript/ class="min-w-[220px] group rounded-xl border border-neutral-200 dark:border-neutral-700 overflow-hidden shadow hover:shadow-lg transition"><div class="h-40 bg-cover bg-center" style="background-image:url(https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR0euGtKKkwenU79DAX8coxWsAVsQSpC5ycSJsPLFRKZ7VIXaUOHyk7EelBilGm7VJ-a726-R8l8gbJZWRxweobXCj3sK8bng-RCiaMqYMl0g);background-size:cover;background-position:50%"></div><div class=p-3><h4 class="text-base font-semibold group-hover:text-blue-500 transition text-center">Giới thiệu về JavaScript</h4></div></a></div></div></section></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_posts\vong-lap\index.md data-oid-likes=likes_posts\vong-lap\index.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/posts/cau-lenh-dieu-kien/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Câu Lệnh Điều Kiện</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2025-09-22T17:25:15+07:00>22 tháng 9, 2025</time>
</span></span></a></span><span><a class="flex text-right group ml-3" href=/posts/ham/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Hàm - function</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2025-09-23T02:28:12+07:00>23 tháng 9, 2025</time>
</span></span><span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0 z-10"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Cuộn lên trên cùng" title="Cuộn lên trên cùng">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2025
Đinh Công Minh</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Bảo trợ bởi <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=http://localhost:1313/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder="Tìm kiếm" tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Đóng (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>